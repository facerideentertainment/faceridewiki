(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{9413:function(e,r,t){Promise.resolve().then(t.bind(t,7414))},7414:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return v}});var a=t(7437),n=t(6463),s=t(6648),i=t(7138),l=t(9055),o=t(9733),d=t(8527),c=t(1471),u=t(9856),f=t(2935),x=t(9842),m=t(8910),p=t(7731),h=t(2279),g=t(4729);function v(e){let{params:r}=e,t=r.slug,{user:v}=(0,c.a)(),b=(0,n.useRouter)(),{firestore:j}=(0,u.f2)();if("new"===t)return(0,a.jsx)(m.$,{});let y=(0,u.sx)(()=>(0,x.JU)(j,"wiki_pages",t),[j,t]),{data:N,isLoading:w}=(0,f.k)(y);if(w)return(0,a.jsx)("div",{children:"Loading entry..."});N||(0,n.notFound)();let k=(null==v?void 0:v.role)==="Admin"||(null==v?void 0:v.role)==="Editor",_=e=>{if(!e)return"Date not available";let r=e.toDate();return(0,p.z)(r)?(0,h.Q)(r,{addSuffix:!0}):(0,g.WU)(r,"PPP")},E=N.updatedAt&&N.lastEditorDisplayName&&N.authorDisplayName!==N.lastEditorDisplayName;return(0,a.jsxs)("article",{className:"max-w-4xl mx-auto",children:[N.imageUrl&&(0,a.jsx)("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden mb-8 shadow-lg",children:(0,a.jsx)(s.default,{src:N.imageUrl,alt:N.title,fill:!0,className:"w-full h-auto object-cover",priority:!0})}),(0,a.jsxs)("div",{className:"flex justify-between items-start gap-4 mb-4",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-headline font-bold",children:N.title}),k&&(0,a.jsxs)(o.z,{onClick:()=>b.push("/article/".concat(N.id,"/edit")),className:"shrink-0",children:[(0,a.jsx)(d.Z,{className:"mr-2 h-4 w-4"})," Edit"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-6 flex-wrap",children:[(0,a.jsxs)("span",{children:["By ",N.authorDisplayName||"Unknown Author"]}),(0,a.jsx)("span",{children:"|"}),(0,a.jsxs)("span",{children:["Created: ",_(N.createdAt)]}),E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"|"}),(0,a.jsxs)("span",{children:["Last edited by ",N.lastEditorDisplayName," ",_(N.updatedAt)]})]})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-8",children:(N.tags||[]).map(e=>(0,a.jsx)(i.default,{href:"/search?q=".concat(encodeURIComponent(e)),children:(0,a.jsx)(l.C,{variant:"secondary",className:"cursor-pointer hover:bg-primary/20",children:e})},e))}),(0,a.jsx)("div",{className:"prose-base md:prose-lg dark:prose-invert max-w-none text-foreground/90 whitespace-pre-wrap font-body",dangerouslySetInnerHTML:{__html:N.content}})]})}},9055:function(e,r,t){"use strict";t.d(r,{C:function(){return l}});var a=t(7437);t(2265);var n=t(3027),s=t(9354);let i=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:r,variant:t,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:t}),r),...n})}}},function(e){e.O(0,[735,358,139,868,286,138,648,770,746,226,678,871,273,2,971,23,744],function(){return e(e.s=9413)}),_N_E=e.O()}]);